<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WacelMarkt - ูุชุฌุฑ ุงูุชุทุจููุงุช</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <!-- ุงูุดุฑูุท ุงูุนููู -->
    <nav class="top-navbar">
        <div class="nav-container">
            <div class="logo-section">
                <h1 class="logo"><i class="fas fa-mobile-alt"></i> WacelMarkt</h1>
            </div>
            <div class="nav-actions">
                <div class="search-icon-top" id="searchIconTop">
                    <i class="fas fa-search"></i>
                </div>
                <button id="loginBtn" class="btn-login"><i class="fas fa-user"></i></button>
                <button id="logoutBtn" class="btn-logout" style="display:none;"><i class="fas fa-sign-out-alt"></i></button>
            </div>
        </div>
    </nav>

    <!-- ุดุฑูุท ุงูุจุญุซ ุงูููุจุซู -->
    <div id="searchModal" class="modal">
        <div class="modal-content search-modal">
            <span class="close">&times;</span>
            <div class="search-container">
                <div class="search-bar">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="searchInput" placeholder="ุงุจุญุซ ุนู ุงูุชุทุจููุงุช...">
                    <button class="search-btn" onclick="searchApps()">ุจุญุซ</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main class="main-content">
        <!-- ูุณู ุงูููุฑู -->
        <section class="hero-section">
            <div class="hero-content">
                <h1 class="hero-title">ุงูุชุดู ุนุงูู ุงูุชุทุจููุงุช</h1>
                <p class="hero-subtitle">ุฃูุถู ุงูุชุทุจููุงุช ุงููุฎุชุงุฑุฉ ุฎุตูุตุงู ูู</p>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-number" id="totalAppsCount">0</span>
                        <span class="stat-label">ุชุทุจูู</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number" id="totalDownloadsCount">0</span>
                        <span class="stat-label">ุชูุฒูู</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- ุงููุฆุงุช -->
        <section class="categories-section">
            <div class="section-header">
                <h2 class="section-title">ุชุตูุญ ุญุณุจ ุงูุชุตููู</h2>
            </div>
            <div class="categories-grid">
                <div class="category-card" onclick="filterApps('all')">
                    <div class="category-icon">
                        <i class="fas fa-th-large"></i>
                    </div>
                    <span class="category-name">ุงููู</span>
                </div>
                <div class="category-card" onclick="filterApps('games')">
                    <div class="category-icon">
                        <i class="fas fa-gamepad"></i>
                    </div>
                    <span class="category-name">ุงูุฃูุนุงุจ</span>
                </div>
                <div class="category-card" onclick="filterApps('social')">
                    <div class="category-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <span class="category-name">ุงูุชูุงุตู</span>
                </div>
                <div class="category-card" onclick="filterApps('entertainment')">
                    <div class="category-icon">
                        <i class="fas fa-film"></i>
                    </div>
                    <span class="category-name">ุงูุชุฑููู</span>
                </div>
                <div class="category-card" onclick="filterApps('productivity')">
                    <div class="category-icon">
                        <i class="fas fa-briefcase"></i>
                    </div>
                    <span class="category-name">ุงูุฅูุชุงุฌูุฉ</span>
                </div>
                <div class="category-card" onclick="filterApps('education')">
                    <div class="category-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <span class="category-name">ุงูุชุนููู</span>
                </div>
                <div class="category-card" onclick="filterApps('utility')">
                    <div class="category-icon">
                        <i class="fas fa-tools"></i>
                    </div>
                    <span class="category-name">ุงูุฃุฏูุงุช</span>
                </div>
            </div>
        </section>

        <!-- ุงูุชุทุจููุงุช ุงููููุฒุฉ -->
        <section class="featured-section">
            <div class="section-header">
                <h2 class="section-title">๐ ุงูุชุทุจููุงุช ุงููููุฒุฉ</h2>
                <span class="section-badge">ูุฎุชุงุฑุฉ ุจุนูุงูุฉ</span>
            </div>
            <div id="featured-apps" class="apps-grid featured-grid">
                <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุชุทุจููุงุช ุงููููุฒุฉ ููุง -->
            </div>
        </section>

        <!-- ุงูุฃูุซุฑ ุฑูุงุฌุงู -->
        <section class="trending-section">
            <div class="section-header">
                <h2 class="section-title">๐ฅ ุงูุฃูุซุฑ ุฑูุงุฌุงู</h2>
                <span class="section-badge">ุงูุฃูุซุฑ ุชุญูููุงู</span>
            </div>
            <div id="trending-apps" class="apps-grid trending-grid">
                <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุชุทุจููุงุช ุงูุดุงุฆุนุฉ ููุง -->
            </div>
        </section>

        <!-- ุฌููุน ุงูุชุทุจููุงุช -->
        <section class="all-apps-section">
            <div class="section-header">
                <h2 class="section-title">๐ฑ ุฌููุน ุงูุชุทุจููุงุช</h2>
                <span class="section-badge" id="allAppsCount">0 ุชุทุจูู</span>
            </div>
            <div id="apps-list" class="apps-grid all-apps-grid">
                <div class="loading-state">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>ุฌุงุฑู ุชุญููู ุงูุชุทุจููุงุช...</p>
                </div>
            </div>
            <div class="load-more-container">
                <button id="loadMoreBtn" class="load-more-btn" onclick="loadMoreApps()">
                    <i class="fas fa-plus"></i>
                    ุนุฑุถ ุงููุฒูุฏ ูู ุงูุชุทุจููุงุช
                </button>
            </div>
        </section>

        <!-- ุฏุนูุฉ ููุนูู -->
        <section class="cta-section">
            <div class="cta-content">
                <h2>ูู ูุฏูู ุชุทุจูู ุชุฑูุฏ ูุดุฑูุ</h2>
                <p>ุงูุถู ุฅูู ููุตุชูุง ููุตู ุฅูู ุขูุงู ุงููุณุชุฎุฏููู</p>
                <button class="cta-btn" onclick="goToAdmin()">
                    <i class="fas fa-rocket"></i>
                    ุงุจุฏุฃ ุงูุขู
                </button>
            </div>
        </section>
    </main>

    <!-- ุงูุดุฑูุท ุงูุณููู -->
    <nav class="bottom-navbar">
        <div class="bottom-nav-container">
            <a href="#home" class="bottom-nav-item active" onclick="scrollToTop()">
                <i class="fas fa-home"></i>
                <span>ุงูุฑุฆูุณูุฉ</span>
            </a>
            <a href="#categories" class="bottom-nav-item" onclick="scrollToSection('categories-section')">
                <i class="fas fa-th-large"></i>
                <span>ุงููุฆุงุช</span>
            </a>
            <a href="#featured" class="bottom-nav-item" onclick="scrollToSection('featured-section')">
                <i class="fas fa-star"></i>
                <span>ูููุฒุฉ</span>
            </a>
            <a href="#search" class="bottom-nav-item" id="bottomSearchBtn">
                <i class="fas fa-search"></i>
                <span>ุจุญุซ</span>
            </a>
        </div>
    </nav>

    <!-- ูููุฐุฌ ุชุณุฌูู ุงูุฏุฎูู -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h3><i class="fas fa-sign-in-alt"></i> ุชุณุฌูู ุงูุฏุฎูู</h3>
            <form id="loginForm">
                <div class="form-group">
                    <input type="email" id="loginEmail" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required>
                </div>
                <div class="form-group">
                    <input type="password" id="loginPassword" placeholder="ูููุฉ ุงููุฑูุฑ" required>
                </div>
                <button type="submit" class="submit-btn">
                    <i class="fas fa-sign-in-alt"></i> ุชุณุฌูู ุงูุฏุฎูู
                </button>
            </form>
            <div id="loginMessage"></div>
            
            <div class="test-credentials">
                <h4><i class="fas fa-info-circle"></i> ุจูุงูุงุช ุงูุงุฎุชุจุงุฑ:</h4>
                <p><strong>ุงูุจุฑูุฏ:</strong> admin@wacelmarkt.com</p>
                <p><strong>ูููุฉ ุงููุฑูุฑ:</strong> Admin123456</p>
            </div>
        </div>
    </div>

    <script type="module" src="js/firebase-config.js"></script>
    <script type="module" src="js/app.js"></script>
    <script type="module" src="js/auth.js"></script>
    <script>
        // ุฅุฏุงุฑุฉ ุดุฑูุท ุงูุจุญุซ
        document.getElementById('searchIconTop').addEventListener('click', function() {
            document.getElementById('searchModal').style.display = 'block';
        });

        document.getElementById('bottomSearchBtn').addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('searchModal').style.display = 'block';
        });

        // ุฅุบูุงู ุงููุงูุฐุฉ ุงูููุจุซูุฉ
        document.querySelectorAll('.close').forEach(function(closeBtn) {
            closeBtn.addEventListener('click', function() {
                this.closest('.modal').style.display = 'none';
            });
        });

        // ุฅุบูุงู ุงููุงูุฐุฉ ุนูุฏ ุงูููุฑ ุฎุงุฑุฌูุง
        window.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.style.display = 'none';
            }
        });

        // ุงูุชููู ูู ุงูุดุฑูุท ุงูุณููู
        document.querySelectorAll('.bottom-nav-item').forEach(function(item) {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelectorAll('.bottom-nav-item').forEach(function(i) {
                    i.classList.remove('active');
                });
                this.classList.add('active');
            });
        });

        // ูุธุงุฆู ุงูุชูุฑูุฑ
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function goToAdmin() {
            if (localStorage.getItem('isAdmin') === 'true') {
                window.location.href = 'admin.html';
            } else {
                document.getElementById('loginModal').style.display = 'block';
            }
        }

        // ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช ูู ุงูููุฑู
        function updateHeroStats(totalApps, totalDownloads) {
            document.getElementById('totalAppsCount').textContent = totalApps;
            document.getElementById('totalDownloadsCount').textContent = totalDownloads.toLocaleString();
        }
    </script>
</body>
</html>
